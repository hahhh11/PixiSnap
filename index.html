<!--
 * @Author: 98Precent
 * @Date: 2025-03-22 12:42:53
 * @LastEditors: Do not edit
 * @LastEditTime: 2025-03-29 23:02:12
 * @FilePath: \PixiSnap\index.html
-->
<!DOCTYPE html>
<html lang="zh">
	<head>
		<meta charset="UTF-8" />
		<title>PixiSnap Game</title>
		<meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />
		<meta name="mobile-web-app-capable" content="yes" />
		<meta name="full-screen" content="true" />
		<meta name="screen-orientation" content="portrait" />
		<meta name="x5-fullscreen" content="true" />
		<meta name="360-fullscreen" content="true" />
		<style>
			html,
			body {
				padding: 0;
				margin: 0;
				border: 0;

				width: 100%;
				height: 100%;
				overflow: hidden;
				position: absolute;
				background-color: #eeeeee;
			}
		</style>
	</head>

	<body>
		<div id="__loading__" style="position: absolute; left: 50%; top: 50%; margin-left: -45px; color: #ffffff">拼命加载中...</div>
		<div id="pixiSnapGame" style="line-height: 0; font-size: 0; position: absolute">
			<canvas id="canvas" style="width: 100%; height: 100%"></canvas>
		</div>
		<script type="module">
			import { App, gsap } from '/src/App.ts';
			window.addEventListener('load', async function () {
				var canvas = document.getElementById('canvas');
				var app = (window['app'] = new App());
				await app.init({ canvas, resizeTo: window });

				window.addEventListener('resize', app.resize.bind(this));
				// 监听页面可见性变化
				document.addEventListener('visibilitychange', () => {
					if (document.hidden) {
						gsap.globalTimeline.pause();
					} else {
						gsap.globalTimeline.resume();
					}
				});
			});
		</script>
	</body>
</html>
